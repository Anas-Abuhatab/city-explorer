{"ast":null,"code":"import _classCallCheck from \"/home/reembaniali/anas/labs/city-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/reembaniali/anas/labs/city-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/reembaniali/anas/labs/city-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/reembaniali/anas/labs/city-explorer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/reembaniali/anas/labs/city-explorer/src/App.js\";\nimport { React, Component } from 'react';\nimport Location from './components/Location';\nimport axios from 'axios';\nimport Form from './components/Form'; // import ErrorCard from './components/ErrorCard';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import BSimg from './components/BSimg';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n\n    _this.handleLocation = function (e) {\n      var display_name = e.target.value;\n\n      _this.setState({\n        display_name: display_name\n      });\n\n      console.log(display_name);\n    };\n\n    _this.handleCloce = function (e) {\n      _this.setState = {\n        showError: false\n      };\n      console.log('object');\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var config = {\n        method: \"GET\",\n        baseURL: \"https://api.locationiq.com/v1/autocomplete.php?\\n      key=\".concat(process.env.REACT_APP_LOCATIONIQ_API_KEY, \"&q=\").concat(_this.state.display_name)\n      };\n      axios(config).then(function (res) {\n        var responseData = res.data[0];\n\n        _this.setState({\n          display_location: responseData.display_name,\n          longitude: responseData.lon,\n          latitude: responseData.lat,\n          showData: true\n        });\n      }).then(function () {\n        axios.get(\"http://\".concat(process.env.REACT_APP_BACKEND_URL, \"/weather?searchQuery=\").concat(_this.state.display_name, \"}\")).then(function (res, req) {\n          _this.setState({\n            weatherData: res.data,\n            status: \"\"\n          });\n        });\n      }).catch(function (err) {\n        _this.setState({\n          status: \"Please inter (Amman,Paris,Seattle) for weather info\"\n        });\n      });\n    };\n\n    _this.state = {\n      display_name: \"\",\n      latitude: \"\",\n      longitude: \"\",\n      showData: false,\n      showError: false,\n      weatherData: [],\n      status: \"\",\n      display_location: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \" hello\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          handleSubmit: this.handleSubmit,\n          handleLocation: this.handleLocation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), this.state.showData && /*#__PURE__*/_jsxDEV(Location, {\n          display_location: this.state.display_location,\n          latitude: this.state.latitude,\n          longitude: this.state.longitude\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), this.state.weatherData.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: item.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 13\n            }, _this2), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 13\n            }, _this2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, _this2);\n        }), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: this.state.status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/reembaniali/anas/labs/city-explorer/src/App.js"],"names":["React","Component","Location","axios","Form","App","props","handleLocation","e","display_name","target","value","setState","console","log","handleCloce","showError","handleSubmit","preventDefault","config","method","baseURL","process","env","REACT_APP_LOCATIONIQ_API_KEY","state","then","res","responseData","data","display_location","longitude","lon","latitude","lat","showData","get","REACT_APP_BACKEND_URL","req","weatherData","status","catch","err","map","item","date","description"],"mappings":";;;;;AAAA,SAAQA,KAAR,EAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB,C,CACA;AACA;AACA;;;;IAEMC,G;;;;;AACJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAcnBC,cAdmB,GAcF,UAACC,CAAD,EAAO;AACtB,UAAIC,YAAY,GAAGD,CAAC,CAACE,MAAF,CAASC,KAA5B;;AACA,YAAKC,QAAL,CAAc;AACZH,QAAAA,YAAY,EAAEA;AADF,OAAd;;AAGAI,MAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AACD,KApBkB;;AAAA,UAsBnBM,WAtBmB,GAsBL,UAACP,CAAD,EAAO;AACnB,YAAKI,QAAL,GAAiB;AACfI,QAAAA,SAAS,EAAE;AADI,OAAjB;AAGAH,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACD,KA3BkB;;AAAA,UA6BnBG,YA7BmB,GA6BJ,UAACT,CAAD,EAAO;AACpBA,MAAAA,CAAC,CAACU,cAAF;AACA,UAAIC,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE,KADG;AAEXC,QAAAA,OAAO,uEACDC,OAAO,CAACC,GAAR,CAAYC,4BADX,gBAC6C,MAAKC,KAAL,CAAWhB,YADxD;AAFI,OAAb;AAKAN,MAAAA,KAAK,CAACgB,MAAD,CAAL,CAAcO,IAAd,CAAmB,UAAAC,GAAG,EAAI;AACxB,YAAIC,YAAY,GAAGD,GAAG,CAACE,IAAJ,CAAS,CAAT,CAAnB;;AACA,cAAKjB,QAAL,CAAc;AACZkB,UAAAA,gBAAgB,EAAEF,YAAY,CAACnB,YADnB;AAEZsB,UAAAA,SAAS,EAAEH,YAAY,CAACI,GAFZ;AAGZC,UAAAA,QAAQ,EAAEL,YAAY,CAACM,GAHX;AAIZC,UAAAA,QAAQ,EAAE;AAJE,SAAd;AAOD,OATD,EAUCT,IAVD,CAUM,YAAI;AACRvB,QAAAA,KAAK,CAACiC,GAAN,kBAAoBd,OAAO,CAACC,GAAR,CAAYc,qBAAhC,kCAA6E,MAAKZ,KAAL,CAAWhB,YAAxF,QACCiB,IADD,CACM,UAACC,GAAD,EAAKW,GAAL,EAAW;AAEf,gBAAK1B,QAAL,CAAc;AACZ2B,YAAAA,WAAW,EAAGZ,GAAG,CAACE,IADN;AAEZW,YAAAA,MAAM,EAAC;AAFK,WAAd;AAID,SAPD;AAQD,OAnBD,EAmBGC,KAnBH,CAmBS,UAAAC,GAAG,EAAE;AACZ,cAAK9B,QAAL,CAAc;AACZ4B,UAAAA,MAAM,EAAE;AADI,SAAd;AAGD,OAvBD;AAwBD,KA5DkB;;AAEjB,UAAKf,KAAL,GAAa;AACXhB,MAAAA,YAAY,EAAE,EADH;AAEXwB,MAAAA,QAAQ,EAAE,EAFC;AAGXF,MAAAA,SAAS,EAAE,EAHA;AAIXI,MAAAA,QAAQ,EAAE,KAJC;AAKXnB,MAAAA,SAAS,EAAE,KALA;AAMXuB,MAAAA,WAAW,EAAC,EAND;AAOXC,MAAAA,MAAM,EAAC,EAPI;AAQXV,MAAAA,gBAAgB,EAAC;AARN,KAAb;AAFiB;AAYlB;;;;WAiDD,kBAAS;AAAA;;AACP,0BAEE;AAAA,gCACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADC,eAEE,QAAC,IAAD;AAAM,UAAA,YAAY,EAAE,KAAKb,YAAzB;AACE,UAAA,cAAc,EAAE,KAAKV;AADvB;AAAA;AAAA;AAAA;AAAA,gBAFF,EAIG,KAAKkB,KAAL,CAAWU,QAAX,iBACC,QAAC,QAAD;AACE,UAAA,gBAAgB,EAAE,KAAKV,KAAL,CAAWK,gBAD/B;AAEE,UAAA,QAAQ,EAAE,KAAKL,KAAL,CAAWQ,QAFvB;AAGE,UAAA,SAAS,EAAE,KAAKR,KAAL,CAAWM;AAHxB;AAAA;AAAA;AAAA;AAAA,gBALJ,EAWI,KAAKN,KAAL,CAAWc,WAAX,CAAuBI,GAAvB,CAA2B,UAAAC,IAAI,EAAE;AAC/B,8BACA;AAAA,oCACA;AAAA,wBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA;AAAA,wBAAKD,IAAI,CAACE;AAAV;AAAA;AAAA;AAAA;AAAA,sBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA;AAMD,SAPD,CAXJ,eAqBE;AAAA,oBAAK,KAAKrB,KAAL,CAAWe;AAAhB;AAAA;AAAA;AAAA;AAAA,gBArBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AA+BD;;;;EA9FevC,S;;AAiGlB,eAAeI,GAAf","sourcesContent":["import {React,  Component } from 'react';\nimport Location from './components/Location';\nimport axios from 'axios';\nimport Form from './components/Form';\n// import ErrorCard from './components/ErrorCard';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n// import BSimg from './components/BSimg';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      display_name: \"\",\n      latitude: \"\",\n      longitude: \"\",\n      showData: false,\n      showError: false,\n      weatherData:[],\n      status:\"\",\n      display_location:\"\"\n    }\n  }\n \n  handleLocation = (e) => {\n    let display_name = e.target.value;\n    this.setState({\n      display_name: display_name\n    })\n    console.log(display_name)\n  }\n  \n  handleCloce = (e) => {\n    this.setState = ({\n      showError: false\n    })\n    console.log('object')\n  }\n  \n  handleSubmit = (e) => {\n    e.preventDefault();\n    let config = {\n      method: \"GET\",\n      baseURL: `https://api.locationiq.com/v1/autocomplete.php?\n      key=${process.env.REACT_APP_LOCATIONIQ_API_KEY}&q=${this.state.display_name}`\n    }\n    axios(config).then(res => {\n      let responseData = res.data[0]\n      this.setState({\n        display_location: responseData.display_name,\n        longitude: responseData.lon,\n        latitude: responseData.lat,\n        showData: true,\n\n      });\n    })\n    .then(()=>{\n      axios.get(`http://${process.env.REACT_APP_BACKEND_URL}/weather?searchQuery=${this.state.display_name}}`)\n      .then((res,req)=>{\n        \n        this.setState({\n          weatherData:  res.data,\n          status:\"\"\n        })\n      });\n    }).catch(err=>{\n      this.setState({\n        status: \"Please inter (Amman,Paris,Seattle) for weather info\"\n      })\n    })\n  }\n  render() {\n    return (\n\n      <div>\n     <h1> hello</h1>\n        <Form handleSubmit={this.handleSubmit}\n          handleLocation={this.handleLocation} />\n        {this.state.showData &&\n          <Location \n            display_location={this.state.display_location}\n            latitude={this.state.latitude}\n            longitude={this.state.longitude} />\n        }\n         {\n          this.state.weatherData.map(item=>{\n            return (\n            <div>\n            <h2>{item.date}</h2>\n            <h2>{item.description}</h2>\n            </div>\n            )\n          })\n          \n        }\n        <h2>{this.state.status}</h2>\n\n        {/* <BSimg latitude={this.state.latitude}\n                // longitude={this.state.longitude} /> */}\n       \n       \n          </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}